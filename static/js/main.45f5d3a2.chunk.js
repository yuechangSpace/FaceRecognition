(this.webpackJsonpfacerecognition=this.webpackJsonpfacerecognition||[]).push([[0],{267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(41),i=n.n(r),s=n(28),l=n(29),c=n(31),u=n(30),m=function(e){var t,n=e.onButtonNav;return t="signedin"===e.route?o.a.createElement("p",{onClick:function(){return n("home")},className:"grow mh3"},"Sign Out "):o.a.createElement("p",{onClick:function(){return n("signin")},className:"grow mh3"},"Sign In "),o.a.createElement("nav",{className:"ma1 pa2 pointer end"},o.a.createElement("p",{onClick:function(){return n("register")},className:"grow mh3"},"Register"),t)},d=function(e){var t=e.onButtonSign,n=e.onButtonNav;return o.a.createElement("article",{className:"w-50 pa4 black-80 shadow-5 center flex flex-column pl-2"},o.a.createElement("h1",null,"Register"),o.a.createElement("div",{style:{color:"red"}},o.a.createElement("strong",{id:"error"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw4 lh-copy f6"},"User Name"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent measure w-70",id:"name"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw4 lh-copy f6"},"Email address"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent measure w-70",id:"email-address"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw4 lh-copy f6"},"Password"),o.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-70",id:"password"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("button",{onClick:function(){return function(){var e=document.getElementById("name").value,a=document.getElementById("email-address").value,o=document.getElementById("password").value;""===e||""===a||""===o?document.getElementById("error").innerText="Shouldn't be empty!":fetch("http://localhost:4000/register",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({name:e,email:a,passwd:o})}).then((function(e){return e.json()})).then((function(o){o[0].id?(t({name:e,email:a}),n("signedin")):document.getElementById("error").innerText="Email exist!"}))}()},className:"b ph3 pv2 w-1 input-reset ba b--black bg-transparent grow pointer f6"},"Register")))},p=function(e){return o.a.createElement("article",{className:"w-50 pa4 black-80 shadow-5 center flex flex-column pl-2"},o.a.createElement("h1",null,"Sign in"),o.a.createElement("div",{style:{color:"red"}},o.a.createElement("strong",{id:"error"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw4 lh-copy f6"},"Email address"),o.a.createElement("input",{className:"pa2 input-reset ba bg-transparent measure w-70",id:"email-address"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("label",{className:"db fw4 lh-copy f6"},"Password"),o.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent w-70",id:"password"})),o.a.createElement("div",{className:"mt3"},o.a.createElement("button",{onClick:function(){return function(){var t=document.getElementById("email-address").value,n=document.getElementById("password").value;fetch("http://localhost:4000/signin",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({email:t,passwd:n})}).then((function(n){200===n.status?n.json().then((function(n){e.onButtonSign({email:t,name:n.name,id:n.id,date:n.joined,entries:n.entries}),e.onButtonNav("signedin")})):document.getElementById("error").innerText="Wrong email or password!"}))}()},className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6",type:"submit"},"Signin")))},h=n(73),g=n.n(h),b=n(74),E=n.n(b),f=function(){return o.a.createElement(g.a,{className:"Tilt br2 shadow-5 pa1 ma3",options:{max:100},style:{height:130,width:130,borderRadius:"30px"}},o.a.createElement("div",{className:"Tilt-inner"}," ",o.a.createElement("img",{width:"130px",style:{borderRadius:"30px"},alt:"logo",src:E.a})," "))},v=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{id:"hello"},"Hello ",o.a.createElement("b",null,this.props.user.name)," thanks for your ",o.a.createElement("b",null,this.props.user.entries,"th")," entry!")}}]),n}(a.Component),N=n(42),w=n(75),B=n.n(w),y=(n(83),n(84),function(e){var t=e.dataUri,n=e.isFullscreen?"demo-image-preview-fullscreen":"";return o.a.createElement("div",{className:"demo-image-preview "+n},o.a.createElement("img",{src:t}))});var S=function(e){var t=Object(a.useState)(""),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),l=Object(N.a)(s,2),c=l[0],u=l[1];return o.a.createElement("div",null,c?o.a.createElement("div",null,o.a.createElement("img",{src:r,alt:""})):r?o.a.createElement(y,{dataUri:r,isFullscreen:!1}):o.a.createElement("div",null,o.a.createElement("button",{onClick:e.onButtonBackHome,className:" grow  br5 ba"},"\u274c"),o.a.createElement(B.a,{onTakePhotoAnimationDone:function(t){console.log("takePhoto"),i(t),u(!0);var n={base64:t};e.onButtonFinishPic(n)},isFullscreen:!1})))},k=(n(85),function(e){var t=e.onButtonTakePic,n=e.onInput,a=e.onButtonSubmit;return o.a.createElement("div",{className:""},o.a.createElement("p",{className:"center ph2"},"Please type in the image URL that you want to detect"),o.a.createElement("hr",null),o.a.createElement("div",{className:"center shadow-2 pv3 ma1 br3 w-70"},o.a.createElement("button",{onClick:t,className:"w-15 mh2 dib grow white bg-light-purple br2 ba b--light-purple"},"Take a photo"),o.a.createElement("p",{className:"f6 m5 ph2"},"Or Copy a URL"),o.a.createElement("input",{onInput:n,type:"text",className:"w-70  bw2"}),o.a.createElement("button",{onClick:a,className:"w-15 mh2 dib grow white bg-light-purple ph3 br2 ba b--light-purple"},"Detect")))}),x=(n(86),function(e){var t=e.boundingBox,n=e.url;return o.a.createElement("div",{className:"center"},o.a.createElement("div",{className:"absolute"},0!==n.length?o.a.createElement("img",{className:"inputImg",width:"300px",height:"auto",alt:"target",src:n}):o.a.createElement("div",null),0!=t.length?o.a.createElement("div",{className:"bounding-box",style:{top:t[0],left:t[1],bottom:t[2],right:t[3]}}):o.a.createElement("div",null)))}),j=n(76),O=n.n(j),I=n(77),P=n.n(I),C=(n(266),n(267),new P.a.App({apiKey:"d6eea73651224ec8b4892e677d7a4f52"}),{particles:{number:{value:100},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}),T={url:"",box:[],route:"register",user:{id:"",name:"",email:"",passwd:"",entries:0,date:new Date}},F=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).onButtonNav=function(t){"home"===t&&e.setState(T),e.setState({route:t})},e.onButtonTakePic=function(){e.setState({route:"takingpic"}),console.log("taking")},e.onButtonBackHome=function(){""!==e.state.user.email?e.setState({route:"signedin"}):e.setState({route:"home"}),console.log(e.state.route)},e.onButtonFinishPic=function(t){e.setState({pic:t}),""!==e.state.user.id?e.setState({route:"signedin"}):e.setState({route:"home"}),e.setState({url:t.base64}),console.log(e.state.url)},e.calculateBoxPos=function(e){var t=e.top_row,n=e.left_col,a=e.bottom_row,o=e.right_col,r=document.querySelector(".inputImg"),i=Number(r.width),s=Number(r.height);return[t*s,n*i,s-a*s,i-o*i]},e.onButtonSubmit=function(){var t=e.state.url;t.includes("base64")&&(t=t.substring(22)),fetch("http://localhost:4000/image",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({uri:t})}).then((function(e){return e.json()})).then((function(t){var n=e.calculateBoxPos(t.outputs[0].data.regions[0].region_info.bounding_box);e.displayBox(n)})).catch((function(e){console.log(e)}))},e.displayBox=function(t){e.setState({box:t})},e.onInput=function(t){e.setState({url:t.target.value})},e.onButtonSign=function(t){e.setState(Object.assign(e.state.user,{name:t.name,email:t.email,id:t.id,date:t.date,entries:t.entries}))},e.getProfile=function(){fetch("http://localhost:4000/profile/".concat(e.state.user.id)).then()},e.state=T,e}return Object(l.a)(n,[{key:"render",value:function(){return console.log(this.state.route),console.log(this.state.user),"register"===this.state.route?o.a.createElement("div",null,o.a.createElement(m,{onButtonNav:this.onButtonNav}),o.a.createElement(d,{onButtonSign:this.onButtonSign,onButtonNav:this.onButtonNav})):"signin"===this.state.route?o.a.createElement("div",null,o.a.createElement(m,{onButtonNav:this.onButtonNav}),o.a.createElement(p,{onButtonSign:this.onButtonSign,onButtonNav:this.onButtonNav})):o.a.createElement("div",null,"takingpic"===this.state.route?o.a.createElement(S,{onButtonBackHome:this.onButtonBackHome,onButtonFinishPic:this.onButtonFinishPic}):(this.state.route,o.a.createElement("div",null,o.a.createElement(O.a,{className:"particles",params:C}),o.a.createElement(m,{onButtonNav:this.onButtonNav,route:this.state.route}),o.a.createElement(f,{className:"particles"}),"signedin"===this.state.route?o.a.createElement("div",{className:"center grow"},o.a.createElement(v,{user:this.state.user})):o.a.createElement("div",null),o.a.createElement("h1",{className:"center"}," Smart Brain "),o.a.createElement(k,{onButtonTakePic:this.onButtonTakePic,onInput:this.onInput,onButtonSubmit:this.onButtonSubmit}),o.a.createElement(x,{boundingBox:this.state.box,url:this.state.url}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(268);i.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,n){e.exports=n.p+"static/media/image.e93d0377.jpg"},78:function(e,t,n){e.exports=n(269)},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.45f5d3a2.chunk.js.map